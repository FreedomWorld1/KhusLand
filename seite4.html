<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Ressourcen Manager</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { 
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
    }
    .card { 
      background: linear-gradient(135deg, rgba(30, 41, 59, 0.8) 0%, rgba(15, 23, 42, 0.9) 100%); 
      border: 1px solid rgba(220, 38, 38, 0.2); 
      border-radius: 16px; 
      backdrop-filter: blur(10px);
    }
    .shadow-soft { 
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 
                  0 5px 10px rgba(0, 0, 0, 0.3),
                  inset 0 1px 0 rgba(255, 255, 255, 0.1); 
    }
    .small-muted { 
      color: #94a3b8; 
      font-size: 0.85rem; 
    }
    .btn { 
      transition: all 0.2s ease; 
      font-size: 0.9rem; 
      font-weight: 500;
    }
    .btn:hover { 
      transform: translateY(-2px); 
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    .hidden-el { 
      display: none; 
    }
    input, select { 
      transition: all 0.2s ease; 
      font-size: 0.95rem; 
    }
    input:focus, select:focus { 
      outline: none; 
      border-color: #dc2626; 
      box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.3); 
    }
    .active-link { 
      background-color: #dc2626 !important; 
      color: #fff !important; 
      font-weight: 600; 
    }
    .gradient-text {
      background: linear-gradient(90deg, #dc2626 0%, #ea580c 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .glass-effect {
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(220, 38, 38, 0.1);
    }
    .fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .pulse-glow {
      animation: pulseGlow 2s infinite;
    }
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 5px rgba(220, 38, 38, 0.5); }
      50% { box-shadow: 0 0 20px rgba(220, 38, 38, 0.8); }
      100% { box-shadow: 0 0 5px rgba(220, 38, 38, 0.5); }
    }
    .scrollbar-custom::-webkit-scrollbar {
      width: 6px;
    }
    .scrollbar-custom::-webkit-scrollbar-track {
      background: rgba(30, 41, 59, 0.5);
      border-radius: 10px;
    }
    .scrollbar-custom::-webkit-scrollbar-thumb {
      background: #dc2626;
      border-radius: 10px;
    }
    /* Fix f√ºr Hamburger-Men√º - H√∂herer z-index */
    .hamburger-container {
      position: relative;
      z-index: 1000;
    }
    .hamburger-menu {
      z-index: 1001;
    }
    .category-btn {
      transition: all 0.3s ease;
    }
    .category-btn.active {
      background-color: #dc2626;
      color: white;
    }
    .resource-item {
      transition: all 0.2s ease;
    }
    .resource-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
  </style>
</head>
<body class="text-gray-100 antialiased min-h-screen">
  <div class="max-w-6xl mx-auto p-4 md:p-6">

    <!-- HEADER -->
    <header class="glass-effect rounded-2xl shadow-soft mb-6 p-4 md:p-6 flex justify-between items-center relative z-10">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-full bg-gradient-to-r from-red-600 to-orange-500 flex items-center justify-center">
          <span class="text-white font-bold">‚öíÔ∏è</span>
        </div>
        <h1 class="text-2xl md:text-3xl font-bold gradient-text tracking-tight">Ressourcen Manager</h1>
      </div>
      <div class="flex items-center gap-2">
        <button id="btnResources" class="btn px-3 py-2 bg-red-600 hover:bg-red-500 rounded-lg shadow-sm pulse-glow">Ressourcen</button>
        <button id="btnCrafting" class="btn px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg shadow-sm">Herstellung</button>
        <button id="btnWorkbenches" class="btn px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg shadow-sm">Werkb√§nke</button>
        <button id="btnAdmin" class="btn px-3 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg shadow-sm">Admin</button>
        <div class="hamburger-container">
          <button id="hamburgerBtn" class="p-2 flex flex-col justify-between h-6 w-8 focus:outline-none ml-1 rounded-md bg-gray-800 hover:bg-gray-700">
            <span class="block h-0.5 bg-gray-100 rounded-full"></span>
            <span class="block h-0.5 bg-gray-100 rounded-full"></span>
            <span class="block h-0.5 bg-gray-100 rounded-full"></span>
          </button>
          <div id="hamburgerMenu" class="hamburger-menu hidden absolute right-0 mt-2 w-44 glass-effect border border-gray-700 rounded-lg shadow-lg overflow-hidden">
            <a href="./" class="block px-4 py-3 hover:bg-gray-700 transition-colors">Startseite</a>
            <a href="resources.html" class="block px-4 py-3 hover:bg-gray-700 transition-colors">Ressourcen</a>
            <a href="crafting.html" class="block px-4 py-3 hover:bg-gray-700 active-link transition-colors">Herstellung</a>
            <a href="workbenches.html" class="block px-4 py-3 hover:bg-gray-700 transition-colors">Werkb√§nke</a>
          </div>
        </div>
      </div>
    </header>

    <div id="mainContainer" class="space-y-6 relative z-0">

      <!-- RESSOURCEN -->
      <div id="resourcesSection" class="card p-6 shadow-soft fade-in">
        <h2 class="text-xl font-semibold mb-4 text-red-400 flex items-center gap-2">
          <span class="bg-red-900/30 p-2 rounded-lg">üì¶</span>
          Ressourcen
        </h2>
        
        <!-- Kategorien -->
        <div class="flex flex-wrap gap-2 mb-6">
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg active" data-category="all">Alle</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-category="minerals">Mineralien</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-category="metals">Metalle</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-category="wood">Holz</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-category="textiles">Textilien</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-category="chemicals">Chemikalien</button>
        </div>
        
        <!-- Ressourcen Grid -->
        <div id="resourcesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- Ressourcen werden hier dynamisch geladen -->
        </div>
      </div>

      <!-- HERSTELLUNG -->
      <div id="craftingSection" class="card p-6 shadow-soft hidden-el fade-in">
        <h2 class="text-xl font-semibold mb-4 text-red-400 flex items-center gap-2">
          <span class="bg-red-900/30 p-2 rounded-lg">üî®</span>
          Herstellung
        </h2>
        
        <!-- Crafting Kategorien -->
        <div class="flex flex-wrap gap-2 mb-6">
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg active" data-craft-category="all">Alle</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-craft-category="tools">Werkzeuge</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-craft-category="weapons">Waffen</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-craft-category="armor">R√ºstung</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-craft-category="consumables">Verbrauchsg√ºter</button>
          <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg" data-craft-category="structures">Strukturen</button>
        </div>
        
        <!-- Crafting Grid -->
        <div id="craftingGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- Crafting Items werden hier dynamisch geladen -->
        </div>
      </div>

      <!-- WERKB√ÑNKE -->
      <div id="workbenchesSection" class="card p-6 shadow-soft hidden-el fade-in">
        <h2 class="text-xl font-semibold mb-4 text-red-400 flex items-center gap-2">
          <span class="bg-red-900/30 p-2 rounded-lg">üõ†Ô∏è</span>
          Werkb√§nke
        </h2>
        
        <!-- Workbenches Grid -->
        <div id="workbenchesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- Werkb√§nke werden hier dynamisch geladen -->
        </div>
      </div>

      <!-- ADMIN -->
      <div id="adminPanel" class="card p-5 shadow-soft hidden-el fade-in">
        <h2 class="text-lg font-semibold mb-4 text-blue-400 flex items-center gap-2">
          <span class="bg-blue-900/30 p-2 rounded-lg">üîê</span>
          Adminbereich
        </h2>
        <div id="adminLoginSection">
          <div class="mb-4">
            <label for="adminPass" class="block text-sm font-medium text-gray-300 mb-1">Admin-Passwort</label>
            <input id="adminPass" type="password" placeholder="Geben Sie das Passwort ein" class="w-full p-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-blue-500"/>
          </div>
          <button id="adminLoginBtn" class="w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-lg btn font-medium flex items-center justify-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
            Einloggen
          </button>
          <span id="adminError" class="text-red-400 mt-3 block hidden-el text-center text-sm py-2 bg-red-900/20 rounded-lg">‚ùå Falsches Passwort</span>
        </div>
        <div id="adminContent" class="hidden-el">
          <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 p-3 rounded-lg bg-gray-800/30">
            <div class="small-muted">Gesamtressourcen: <span id="totalResources" class="font-bold text-white">0</span></div>
            <div class="small-muted">Herstellbare Items: <span id="totalCrafting" class="font-bold text-white">0</span></div>
            <div class="small-muted">Werkb√§nke: <span id="totalWorkbenches" class="font-bold text-white">0</span></div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <button id="addResourceBtn" class="px-4 py-3 bg-green-600 hover:bg-green-500 rounded-lg btn font-medium flex items-center justify-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
              </svg>
              Ressource hinzuf√ºgen
            </button>
            <button id="addCraftingBtn" class="px-4 py-3 bg-green-600 hover:bg-green-500 rounded-lg btn font-medium flex items-center justify-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
              </svg>
              Crafting Item hinzuf√ºgen
            </button>
            <button id="addWorkbenchBtn" class="px-4 py-3 bg-green-600 hover:bg-green-500 rounded-lg btn font-medium flex items-center justify-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
              </svg>
              Werkbank hinzuf√ºgen
            </button>
          </div>
          
          <div class="overflow-auto max-h-[50vh] rounded-lg border border-gray-800 scrollbar-custom">
            <table class="w-full text-left text-sm">
              <thead class="text-gray-400 bg-gray-800/70 sticky top-0">
                <tr>
                  <th class="p-3 font-medium">Typ</th>
                  <th class="p-3 font-medium">Name</th>
                  <th class="p-3 font-medium">Kategorie</th>
                  <th class="p-3 font-medium">Seltenheit</th>
                  <th class="p-3 font-medium">Aktion</th>
                </tr>
              </thead>
              <tbody id="adminTableBody" class="divide-y divide-gray-800"></tbody>
            </table>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Modals f√ºr Admin-Bereich -->
  <div id="resourceModal" class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden-el">
    <div class="card p-6 m-4 max-w-md w-full shadow-soft">
      <h3 class="text-lg font-semibold mb-4 text-red-400">Ressource hinzuf√ºgen</h3>
      <form id="resourceForm" class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-1">Name</label>
          <input type="text" id="resourceName" class="p-3 rounded-lg bg-gray-800/50 border border-gray-700 w-full focus:border-red-500" required/>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-1">Kategorie</label>
          <select id="resourceCategory" class="p-3 rounded-lg bg-gray-800/50 border border-gray-700 w-full focus:border-red-500" required>
            <option value="minerals">Mineralien</option>
            <option value="metals">Metalle</option>
            <option value="wood">Holz</option>
            <option value="textiles">Textilien</option>
            <option value="chemicals">Chemikalien</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-1">Seltenheit</label>
          <select id="resourceRarity" class="p-3 rounded-lg bg-gray-800/50 border border-gray-700 w-full focus:border-red-500" required>
            <option value="common">Gew√∂hnlich</option>
            <option value="uncommon">Ungew√∂hnlich</option>
            <option value="rare">Selten</option>
            <option value="epic">Episch</option>
            <option value="legendary">Legend√§r</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-1">Beschreibung</label>
          <textarea id="resourceDescription" class="p-3 rounded-lg bg-gray-800/50 border border-gray-700 w-full focus:border-red-500" rows="3"></textarea>
        </div>
        <div class="flex gap-3 pt-2">
          <button type="submit" class="flex-1 px-4 py-3 bg-red-600 hover:bg-red-500 rounded-lg btn font-medium">Speichern</button>
          <button type="button" id="cancelResource" class="px-4 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg btn font-medium">Abbrechen</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Beispiel-Daten f√ºr Ressourcen
    const resources = [
      { id: 1, name: "Eisen", category: "metals", rarity: "common", description: "Grundlegendes Metall f√ºr viele Herstellungsprozesse" },
      { id: 2, name: "Gold", category: "metals", rarity: "rare", description: "Wertvolles Metall f√ºr spezielle Gegenst√§nde" },
      { id: 3, name: "Holz", category: "wood", rarity: "common", description: "Grundmaterial f√ºr Bau und Handwerk" },
      { id: 4, name: "Stein", category: "minerals", rarity: "common", description: "Robustes Material f√ºr Strukturen" },
      { id: 5, name: "Schwefel", category: "chemicals", rarity: "uncommon", description: "Wichtige Chemikalie f√ºr Sprengstoffe" },
      { id: 6, name: "Stoff", category: "textiles", rarity: "common", description: "Vielseitiges Material f√ºr Kleidung und Polsterung" },
      { id: 7, name: "Diamant", category: "minerals", rarity: "epic", description: "Extrem hartes Material f√ºr hochwertige Werkzeuge" },
      { id: 8, name: "Leder", category: "textiles", rarity: "uncommon", description: "Robustes Material f√ºr R√ºstung und Ausr√ºstung" }
    ];

    // Beispiel-Daten f√ºr Crafting
    const craftingItems = [
      { id: 1, name: "Eisen-Schwert", category: "weapons", rarity: "uncommon", resources: [{name: "Eisen", amount: 5}, {name: "Holz", amount: 2}], description: "Standard Nahkampfwaffe" },
      { id: 2, name: "Holzbogen", category: "weapons", rarity: "common", resources: [{name: "Holz", amount: 10}, {name: "Stoff", amount: 2}], description: "Einfache Fernkampfwaffe" },
      { id: 3, name: "Leder-R√ºstung", category: "armor", rarity: "common", resources: [{name: "Leder", amount: 8}], description: "Leichte Schutzausr√ºstung" },
      { id: 4, name: "Eisen-Spitzhacke", category: "tools", rarity: "uncommon", resources: [{name: "Eisen", amount: 3}, {name: "Holz", amount: 2}], description: "Effizientes Werkzeug zum Abbauen" },
      { id: 5, name: "Heiltrank", category: "consumables", rarity: "uncommon", resources: [{name: "Schwefel", amount: 1}, {name: "Stoff", amount: 1}], description: "Stellt Gesundheit wieder her" },
      { id: 6, name: "Holzwand", category: "structures", rarity: "common", resources: [{name: "Holz", amount: 5}], description: "Grundlegende Verteidigungsstruktur" }
    ];

    // Beispiel-Daten f√ºr Werkb√§nke
    const workbenches = [
      { id: 1, name: "Einfache Werkbank", level: 1, description: "Erm√∂glicht grundlegendes Crafting", recipes: ["Holzbogen", "Holzwand"] },
      { id: 2, name: "Schmiede", level: 2, description: "Erm√∂glicht Metallverarbeitung", recipes: ["Eisen-Schwert", "Eisen-Spitzhacke"] },
      { id: 3, name: "Alchemie-Tisch", level: 2, description: "Erm√∂glicht Herstellung von Tr√§nken", recipes: ["Heiltrank"] },
      { id: 4, name: "R√ºstungsschmied", level: 3, description: "Erm√∂glicht Herstellung von R√ºstungen", recipes: ["Leder-R√ºstung"] }
    ];

    // Utility
    function show(el) { 
      el.classList.remove('hidden-el'); 
      el.classList.add('fade-in');
    }
    function hide(el) { 
      el.classList.add('hidden-el'); 
      el.classList.remove('fade-in');
    }

    // Hamburger Menu
    document.getElementById('hamburgerBtn').addEventListener('click', (e) => {
      e.stopPropagation();
      document.getElementById('hamburgerMenu').classList.toggle('hidden');
    });

    // Close hamburger menu when clicking outside
    document.addEventListener('click', (e) => {
      const hamburgerMenu = document.getElementById('hamburgerMenu');
      const hamburgerBtn = document.getElementById('hamburgerBtn');
      
      if (!hamburgerMenu.contains(e.target) && !hamburgerBtn.contains(e.target)) {
        hamburgerMenu.classList.add('hidden');
      }
    });

    // Tabs Navigation
    document.getElementById('btnResources').addEventListener('click', () => {
      show(document.getElementById('resourcesSection')); 
      hide(document.getElementById('craftingSection')); 
      hide(document.getElementById('workbenchesSection'));
      hide(document.getElementById('adminPanel'));
      updateButtonStates('resources');
    });
    
    document.getElementById('btnCrafting').addEventListener('click', () => {
      hide(document.getElementById('resourcesSection')); 
      show(document.getElementById('craftingSection')); 
      hide(document.getElementById('workbenchesSection'));
      hide(document.getElementById('adminPanel'));
      updateButtonStates('crafting');
    });
    
    document.getElementById('btnWorkbenches').addEventListener('click', () => {
      hide(document.getElementById('resourcesSection')); 
      hide(document.getElementById('craftingSection')); 
      show(document.getElementById('workbenchesSection'));
      hide(document.getElementById('adminPanel'));
      updateButtonStates('workbenches');
    });
    
    document.getElementById('btnAdmin').addEventListener('click', () => {
      hide(document.getElementById('resourcesSection')); 
      hide(document.getElementById('craftingSection')); 
      hide(document.getElementById('workbenchesSection'));
      show(document.getElementById('adminPanel'));
      updateButtonStates('admin');
    });

    function updateButtonStates(activeButton) {
      const buttons = {
        resources: document.getElementById('btnResources'),
        crafting: document.getElementById('btnCrafting'),
        workbenches: document.getElementById('btnWorkbenches'),
        admin: document.getElementById('btnAdmin')
      };
      
      Object.values(buttons).forEach(btn => {
        btn.classList.remove('pulse-glow', 'bg-red-600', 'bg-blue-600');
        btn.classList.add('bg-gray-700');
      });
      
      if (buttons[activeButton]) {
        buttons[activeButton].classList.remove('bg-gray-700');
        if (activeButton === 'resources') {
          buttons[activeButton].classList.add('bg-red-600', 'pulse-glow');
        } else if (activeButton === 'admin') {
          buttons[activeButton].classList.add('bg-blue-600');
        } else {
          buttons[activeButton].classList.add('bg-gray-600');
        }
      }
    }

    // Initialize with Resources active
    updateButtonStates('resources');

    // Kategorie-Filter f√ºr Ressourcen
    document.querySelectorAll('#resourcesSection .category-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        // Active state setzen
        document.querySelectorAll('#resourcesSection .category-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        // Ressourcen filtern
        const category = this.getAttribute('data-category');
        filterResources(category);
      });
    });

    // Kategorie-Filter f√ºr Crafting
    document.querySelectorAll('#craftingSection .category-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        // Active state setzen
        document.querySelectorAll('#craftingSection .category-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        
        // Crafting Items filtern
        const category = this.getAttribute('data-craft-category');
        filterCraftingItems(category);
      });
    });

    // Ressourcen rendern
    function renderResources(category = 'all') {
      const resourcesGrid = document.getElementById('resourcesGrid');
      resourcesGrid.innerHTML = '';
      
      const filteredResources = category === 'all' 
        ? resources 
        : resources.filter(r => r.category === category);
      
      if (filteredResources.length === 0) {
        resourcesGrid.innerHTML = '<div class="col-span-full text-center py-8 text-gray-400"><p>Keine Ressourcen in dieser Kategorie.</p></div>';
        return;
      }
      
      filteredResources.forEach(resource => {
        const rarityColors = {
          common: 'text-gray-400',
          uncommon: 'text-green-400',
          rare: 'text-blue-400',
          epic: 'text-purple-400',
          legendary: 'text-yellow-400'
        };
        
        const el = document.createElement('div');
        el.className = 'resource-item p-4 rounded-lg bg-gray-800/50 border border-gray-700 hover:border-red-500/30 transition-all duration-200';
        el.innerHTML = `
          <div class="flex justify-between items-start mb-2">
            <div class="font-semibold text-lg">${resource.name}</div>
            <div class="px-2 py-1 bg-gray-700 text-xs rounded-full ${rarityColors[resource.rarity]}">${getRarityText(resource.rarity)}</div>
          </div>
          <div class="text-sm text-gray-400 mb-3">${resource.description}</div>
          <div class="flex justify-between items-center">
            <div class="px-2 py-1 bg-gray-700/50 text-xs rounded-full">${getCategoryText(resource.category)}</div>
            <button class="px-3 py-1 bg-red-600 hover:bg-red-500 text-sm rounded-lg btn">Details</button>
          </div>
        `;
        resourcesGrid.appendChild(el);
      });
    }

    // Crafting Items rendern
    function renderCraftingItems(category = 'all') {
      const craftingGrid = document.getElementById('craftingGrid');
      craftingGrid.innerHTML = '';
      
      const filteredItems = category === 'all' 
        ? craftingItems 
        : craftingItems.filter(i => i.category === category);
      
      if (filteredItems.length === 0) {
        craftingGrid.innerHTML = '<div class="col-span-full text-center py-8 text-gray-400"><p>Keine herstellbaren Items in dieser Kategorie.</p></div>';
        return;
      }
      
      filteredItems.forEach(item => {
        const rarityColors = {
          common: 'text-gray-400',
          uncommon: 'text-green-400',
          rare: 'text-blue-400',
          epic: 'text-purple-400',
          legendary: 'text-yellow-400'
        };
        
        const resourcesList = item.resources.map(r => `${r.amount}x ${r.name}`).join(', ');
        
        const el = document.createElement('div');
        el.className = 'resource-item p-4 rounded-lg bg-gray-800/50 border border-gray-700 hover:border-red-500/30 transition-all duration-200';
        el.innerHTML = `
          <div class="flex justify-between items-start mb-2">
            <div class="font-semibold text-lg">${item.name}</div>
            <div class="px-2 py-1 bg-gray-700 text-xs rounded-full ${rarityColors[item.rarity]}">${getRarityText(item.rarity)}</div>
          </div>
          <div class="text-sm text-gray-400 mb-3">${item.description}</div>
          <div class="mb-3">
            <div class="text-xs text-gray-500 mb-1">Ben√∂tigte Ressourcen:</div>
            <div class="text-sm">${resourcesList}</div>
          </div>
          <div class="flex justify-between items-center">
            <div class="px-2 py-1 bg-gray-700/50 text-xs rounded-full">${getCategoryText(item.category)}</div>
            <button class="px-3 py-1 bg-red-600 hover:bg-red-500 text-sm rounded-lg btn">Herstellen</button>
          </div>
        `;
        craftingGrid.appendChild(el);
      });
    }

    // Werkb√§nke rendern
    function renderWorkbenches() {
      const workbenchesGrid = document.getElementById('workbenchesGrid');
      workbenchesGrid.innerHTML = '';
      
      if (workbenches.length === 0) {
        workbenchesGrid.innerHTML = '<div class="col-span-full text-center py-8 text-gray-400"><p>Keine Werkb√§nke verf√ºgbar.</p></div>';
        return;
      }
      
      workbenches.forEach(workbench => {
        const recipesList = workbench.recipes.join(', ');
        
        const el = document.createElement('div');
        el.className = 'resource-item p-4 rounded-lg bg-gray-800/50 border border-gray-700 hover:border-red-500/30 transition-all duration-200';
        el.innerHTML = `
          <div class="flex justify-between items-start mb-2">
            <div class="font-semibold text-lg">${workbench.name}</div>
            <div class="px-2 py-1 bg-gray-700 text-xs rounded-full text-blue-400">Stufe ${workbench.level}</div>
          </div>
          <div class="text-sm text-gray-400 mb-3">${workbench.description}</div>
          <div class="mb-3">
            <div class="text-xs text-gray-500 mb-1">Verf√ºgbare Rezepte:</div>
            <div class="text-sm">${recipesList}</div>
          </div>
          <div class="flex justify-end">
            <button class="px-3 py-1 bg-red-600 hover:bg-red-500 text-sm rounded-lg btn">Bauen</button>
          </div>
        `;
        workbenchesGrid.appendChild(el);
      });
    }

    // Hilfsfunktionen
    function getRarityText(rarity) {
      const rarityMap = {
        common: 'Gew√∂hnlich',
        uncommon: 'Ungew√∂hnlich',
        rare: 'Selten',
        epic: 'Episch',
        legendary: 'Legend√§r'
      };
      return rarityMap[rarity] || rarity;
    }

    function getCategoryText(category) {
      const categoryMap = {
        minerals: 'Mineralien',
        metals: 'Metalle',
        wood: 'Holz',
        textiles: 'Textilien',
        chemicals: 'Chemikalien',
        tools: 'Werkzeuge',
        weapons: 'Waffen',
        armor: 'R√ºstung',
        consumables: 'Verbrauchsg√ºter',
        structures: 'Strukturen'
      };
      return categoryMap[category] || category;
    }

    function filterResources(category) {
      renderResources(category);
    }

    function filterCraftingItems(category) {
      renderCraftingItems(category);
    }

    // Adminbereich
    const ADMIN_PASSWORD = '1101';
    const adminLoginBtn = document.getElementById('adminLoginBtn');
    const adminPassInput = document.getElementById('adminPass');
    const adminError = document.getElementById('adminError');
    const adminTableBody = document.getElementById('adminTableBody');
    const totalResources = document.getElementById('totalResources');
    const totalCrafting = document.getElementById('totalCrafting');
    const totalWorkbenches = document.getElementById('totalWorkbenches');
    const addResourceBtn = document.getElementById('addResourceBtn');
    const addCraftingBtn = document.getElementById('addCraftingBtn');
    const addWorkbenchBtn = document.getElementById('addWorkbenchBtn');
    const resourceModal = document.getElementById('resourceModal');
    const resourceForm = document.getElementById('resourceForm');
    const cancelResource = document.getElementById('cancelResource');

    adminLoginBtn.addEventListener('click', () => {
      if (adminPassInput.value === ADMIN_PASSWORD) { 
        adminError.classList.add('hidden-el'); 
        show(document.getElementById('adminContent')); 
        renderAdminTable(); 
        adminPassInput.value = '';
      } else {
        adminError.classList.remove('hidden-el');
        adminPassInput.value = '';
        adminPassInput.focus();
      }
    });

    // Allow login with Enter key
    adminPassInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        adminLoginBtn.click();
      }
    });

    function renderAdminTable() {
      adminTableBody.innerHTML = '';
      
      // Ressourcen in Admin-Tabelle
      resources.forEach(resource => {
        const tr = document.createElement('tr');
        tr.className = 'border-t border-gray-800 hover:bg-gray-800/30 transition-colors';
        tr.innerHTML = `
          <td class="p-3">Ressource</td>
          <td class="p-3">${resource.name}</td>
          <td class="p-3">${getCategoryText(resource.category)}</td>
          <td class="p-3">${getRarityText(resource.rarity)}</td>
          <td class="p-3">
            <button class="px-3 py-1.5 bg-red-600 hover:bg-red-500 text-sm rounded-lg btn flex items-center gap-1" onclick="deleteResource(${resource.id})">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 000-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
              L√∂schen
            </button>
          </td>`;
        adminTableBody.appendChild(tr);
      });
      
      // Crafting Items in Admin-Tabelle
      craftingItems.forEach(item => {
        const tr = document.createElement('tr');
        tr.className = 'border-t border-gray-800 hover:bg-gray-800/30 transition-colors';
        tr.innerHTML = `
          <td class="p-3">Crafting</td>
          <td class="p-3">${item.name}</td>
          <td class="p-3">${getCategoryText(item.category)}</td>
          <td class="p-3">${getRarityText(item.rarity)}</td>
          <td class="p-3">
            <button class="px-3 py-1.5 bg-red-600 hover:bg-red-500 text-sm rounded-lg btn flex items-center gap-1" onclick="deleteCraftingItem(${item.id})">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 000-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
              L√∂schen
            </button>
          </td>`;
        adminTableBody.appendChild(tr);
      });
      
      // Werkb√§nke in Admin-Tabelle
      workbenches.forEach(workbench => {
        const tr = document.createElement('tr');
        tr.className = 'border-t border-gray-800 hover:bg-gray-800/30 transition-colors';
        tr.innerHTML = `
          <td class="p-3">Werkbank</td>
          <td class="p-3">${workbench.name}</td>
          <td class="p-3">Werkbank</td>
          <td class="p-3">Stufe ${workbench.level}</td>
          <td class="p-3">
            <button class="px-3 py-1.5 bg-red-600 hover:bg-red-500 text-sm rounded-lg btn flex items-center gap-1" onclick="deleteWorkbench(${workbench.id})">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 000-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
              </svg>
              L√∂schen
            </button>
          </td>`;
        adminTableBody.appendChild(tr);
      });
      
      totalResources.innerText = resources.length;
      totalCrafting.innerText = craftingItems.length;
      totalWorkbenches.innerText = workbenches.length;
    }

    // Modal f√ºr Ressource hinzuf√ºgen
    addResourceBtn.addEventListener('click', () => {
      show(resourceModal);
    });

    cancelResource.addEventListener('click', () => {
      hide(resourceModal);
      resourceForm.reset();
    });

    resourceForm.addEventListener('submit', (e) => {
      e.preventDefault();
      
      const name = document.getElementById('resourceName').value;
      const category = document.getElementById('resourceCategory').value;
      const rarity = document.getElementById('resourceRarity').value;
      const description = document.getElementById('resourceDescription').value;
      
      // Neue Ressource hinzuf√ºgen
      const newResource = {
        id: Math.max(...resources.map(r => r.id)) + 1,
        name,
        category,
        rarity,
        description
      };
      
      resources.push(newResource);
      renderResources();
      renderAdminTable();
      hide(resourceModal);
      resourceForm.reset();
    });

    // L√∂schfunktionen
    window.deleteResource = function(id) { 
      if (confirm('Ressource wirklich l√∂schen? Diese Aktion kann nicht r√ºckg√§ngig gemacht werden.')) { 
        const index = resources.findIndex(r => r.id === id);
        if (index !== -1) {
          resources.splice(index, 1);
          renderResources();
          renderAdminTable();
        }
      }
    }

    window.deleteCraftingItem = function(id) { 
      if (confirm('Crafting Item wirklich l√∂schen? Diese Aktion kann nicht r√ºckg√§ngig gemacht werden.')) { 
        const index = craftingItems.findIndex(i => i.id === id);
        if (index !== -1) {
          craftingItems.splice(index, 1);
          renderCraftingItems();
          renderAdminTable();
        }
      }
    }

    window.deleteWorkbench = function(id) { 
      if (confirm('Werkbank wirklich l√∂schen? Diese Aktion kann nicht r√ºckg√§ngig gemacht werden.')) { 
        const index = workbenches.findIndex(w => w.id === id);
        if (index !== -1) {
          workbenches.splice(index, 1);
          renderWorkbenches();
          renderAdminTable();
        }
      }
    }

    // Initialisierung
    document.addEventListener('DOMContentLoaded', () => {
      renderResources();
      renderCraftingItems();
      renderWorkbenches();
    });
  </script>
</body>
</html>
